[[https://ci.systemreboot.net/jobs/dump-genenetwork-database-tests][https://ci.systemreboot.net/badge/dump-genenetwork-database-tests.svg]] [[https://ci.systemreboot.net/jobs/dump-genenetwork-database][https://ci.systemreboot.net/badge/dump-genenetwork-database.svg]]

The GeneNetwork database is being migrated from a relational database
to a plain text and RDF database. This repository contains code to
dump the relational database to plain text.

* Using

Drop into a development environment with

#+BEGIN_SRC shell
  $ guix shell
#+END_SRC

Describe the database connection parameters in a file /conn.scm/ file
as shown below. Take care to replace the placeholders within angle
brackets with the appropriate values.

#+BEGIN_SRC scheme
  ((username . "<username-here>")
   (password . "<password-here>")
   (database . "<database-name-here>")
   (host . "<hostname-here>")
   (port . <port-here>))
#+END_SRC

Then, to dump the database to ~/data/dump, run

#+BEGIN_SRC shell
  $ ./pre-inst-env ./dump.scm conn.scm ~/data/dump
#+END_SRC

Make sure there is enough free space! It's best to dump the database
on penguin2 where disk space and bandwidth are not significant
constraints.

* Contributing

See bugs and tasks in BUGS.org.
